<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>è¯„è®ºæƒ…æ„Ÿè‡ªåŠ¨åˆ†æç³»ç»Ÿ</title>
    <!-- æ–° Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ -->
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQueryæ–‡ä»¶ã€‚åŠ¡å¿…åœ¨bootstrap.min.js ä¹‹å‰å¼•å…¥ -->
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <!-- æœ€æ–°çš„ Bootstrap æ ¸å¿ƒ JavaScript æ–‡ä»¶ -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="./static/echarts.min.js"></script>
    <script src="./static/sd_1.js"></script>
    <script src="./static/tree.js"></script>
    <script src="./static/leida.js"></script>
    <script src="./static/sd_2.js"></script>
    <style>
        .container{
            margin-top: 3%;
        }
        .tab-container{
            min-height: 300px;
        }
        /* .home-container{
            margin-top: 5%;
        } */
        .title{
            background-color: #E6E6FA;
            height: 40px;
        }
        .text{
            text-align: center;
            width: 820px;
            min-height: 120px;
            margin-left: 160px;
            display: inline-block;
            /*margin: auto;*/
            /*background-color: #E6E6FA;*/
        }
        .col-xs-6 {
            width: 100%;
        }
        #input_container {
            max-width: auto;
            margin: 0px auto;
            margin-top: 5px;
            margin-bottom: 5px;
        }
        .input_container2 {
            float: left;
            width: 100%;
            height: auto;
        }
        .input_area{
            font-family: verdana;
            /*text-align: center;*/
            float: left;
            width: 100%;
            min-height: 75px;
            border: 1px solid grey;
            outline: invert;

            background: transparent; 
            overflow: auto; 
            box-sizing: border-box; 
            height: 200px; 
            padding: 10px
        }
        #abstract{
            min-height: 300px;
            background-color: #E6E6FA
        }
        .btn-abstract{
            margin-top: 30px;
            margin-left:46%;
        }
        .positive{
            color: #FF164C;
        }
        .negative{
            color: #1BAD19;        
        }
        .neutral{
            color: #eac736;
            /* color: dimgrey; */
        }
        .tree_leida_wrapper{
            width: 1300px;
            margin: 0px auto;
        }
        #main_sd_2{
            width: 800px;
            margin: 0px auto;
        }
        .extrat_content_title{
            margin-top: 20px;
            height: 30px;
            text-align: center;
        }
        .content_detail{
            height: 10px;
            margin-top: 30px;
            text-align: center;
        }
        .extrat_content{
            margin-left: 20px;
            text-align: center;
        }
        .center-me {
          width:0 auto;
          margin: 0 auto;
          text-align: center;
        }
        .center-me div{
          display:inline-block;
          /*background-color:#000;*/
          /*color:#fff;*/
        }
        .btn {
            float: left;
            min-width: 54px;
            max-width: 250px;
            display: inline-block;
            /*margin: 0.3em;*/
            margin:auto;
            padding: 0.4em 1em;
            /*border: none;*/
            background: none;
            color: inherit;
            vertical-align: middle;
            /*position: relative;*/
            /*z-index: 1;*/
            -webkit-backface-visibility: hidden;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>

<body>
    <ul class="nav nav-tabs">
        <li class="active"><a href="#home">ä¸»é¡µ</a></li>
        <li><a href="#code">æºç </a></li>
        <li><a href="#versions">ç‰ˆæœ¬</a></li>
        <li><a href="#contribution">è´¡çŒ®è€…</a></li>
    </ul>
    <h1 align="center" style="font-family:verdana">é¤é¦†è¯„è®ºè‡ªåŠ¨æƒ…æ„Ÿåˆ†æç³»ç»Ÿ</h1>
    <h4 align="center" style="font-family:verdana">ï¼ˆPowered by Tensorflow, Flaskï¼‰</h4>
    <div class="container">
        <div class="home-container tab-container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" id="input_container">
                    <div class="input_container2">
                        <textarea id="inputContent" dir="auto" class="input_area" placeholder="(è¾“å…¥è¯„è®ºå†…å®¹åç‚¹å‡»åˆ†ææŒ‰é’®ï¼ŒAIå°±ä¼šè‡ªåŠ¨å¸®ä½ åˆ†æå“¦ï¼^_^ æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç‚¹å‡»å¹¸è¿ä¸€ä¸‹!æŸ¥çœ‹éšæœºå†…å®¹)"></textarea>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="aaaaaa">
                    <div class="center-me" style="margin-top: 10px">
                        <div style=""><button id="submitbt" type="button" class="btn btn-primary btn-abstract", style="">åˆ†æè¯„è®º</button></div>
                        <div style=""><button id="feelinglucky" type="button" class="btn btn-primary btn-abstract", style="">å¹¸è¿ä¸€ä¸‹ï¼</button></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="analyse-result-container" style="display: none;">
                    <div  class="analyse_result">
                        <div class="extrat_content_title"><b>æƒ…æ„Ÿè¯„ä»·æå–</b></div>
                        <div class="extrat_content">
                            <span id="positive_content" class="positive"></span><span class="positive", style="">&nbsp;</span>
                            <span id="neutral_content" class="neutral"></span><span class="neutral">&nbsp;</span>
                            <span id="negative_content" class="negative"></span><span class="negative"></span>
                        </div>
                        
                    </div>
                    <div class="main_picture_wrapper">
                        <div class="content_detail"><b>å†…å®¹è¯¦æƒ…</b></div>
                        <div id="main_sd_1" style="width: 1000px; height:120px; margin-top: 30px; text-align: center; margin-left: 40px;"></div>
                        <div class="content_detail2", style="text-align: center;margin-top: 0px;"><b>ğŸ‘‡ ğŸ‘‡ ğŸ‘‡</b></div>
                        <div class="tree_leida_wrapper" style="height: 600px;">
                            <div id="main_tree" style="width: 550px;height:600px;margin-top: 0px;float: left;"></div>
                            <div id="main_leida" style="width: 600px;height:300px;margin-top: 50px;float: left;"></div>
                        </div>
                        <div class="sd_wrapper">
                            <div id="main_sd_2" style="height:1000px;margin-top: 30px;"></div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="code-container tab-container" style="display: none">
            <div class="row">
                <h4><a href="https://github.com/SimZhou/sentiment_system" class="href">https://github.com/SimZhou/sentiment_system</a></h4>
            </div>
        </div>
        <div class="versions-container tab-container" style="display: none">
            <div class="row">
                <h2>æ›´æ–°å†å²</h2>(å½“å‰ç‰ˆæœ¬: 0.2.0)<br>
                <!-- <h3>ç‰ˆæœ¬ 0.3.0 - 2019.12.05</h3>
                - åŠŸèƒ½æ”¹è¿›ï¼šç°åœ¨ä¼šæ ¹æ®è¾“å…¥æ­£æ–‡çš„é•¿åº¦ï¼Œè‡ªé€‚åº”è®¡ç®—æ‘˜è¦åº”æœ‰çš„é•¿åº¦ã€‚<br><br> -->
                <!-- <h3>ç‰ˆæœ¬ 0.2.1 - 2019.12.05</h3>
                - åç«¯ä¿®å¤ï¼šåœ¨å¥å­æ¸…æ´—æ—¶å»æ‰äº†å­¤ç«‹çœç•¥å·ï¼Œè¿™ä¸ªé—®é¢˜ä¼šå¯¼è‡´å­¤ç«‹çš„çœç•¥å·å ç”¨ä¸¤å¥å¥å­çš„åé¢ã€‚<br><br> -->
                <h3>ç‰ˆæœ¬ 0.2.0 - 2020.01.17</h3>
                - æ”¹è¿›äº†Echartsæ•£ç‚¹å›¾çš„æ ·å¼<br>
                - é¡µé¢æ’ç‰ˆåŠå†…å®¹ä¼˜åŒ–
                - ç°åœ¨å¦‚æœæ–‡æœ¬æ¡†ä¸­ä¸ºç©ºæ—¶ç‚¹å‡»åˆ†ææŒ‰é’®ï¼Œä¸ä¼šå¾€åç«¯æäº¤è¯·æ±‚äº†<br><br>
                <h3>ç‰ˆæœ¬ 0.1.0 - 2020.01.16</h3>
                - Demoå®Œæˆ<br><br>
            </div>
        </div>
        <div class="contribution-container tab-container" style="display: none">
            <div class="row">
                <h4 align="left" style="font-family:verdana">
                    Github@: 
                    <a href="https://github.com/wll1014">wll1014</a>, 
                    <a href="https://github.com/lullaby-li">lullaby-li</a>, 
                    <a href="https://github.com/Andrewsunning">Andrewsunning</a>, 
                    <a href="https://github.com/SimZhou">SimZhou</a>
                </h4>
            </div>
            <div class="row">
                <h4 align="left" style="font-family:verdana"><br>(and special thanks to Github@xueyouluo of his open-source code fsauor2018)</h3>
            </div>            
        </div>
    </div>
</body>
<script>
$(document).ready(function() {
    //$(".tab-container").height(window.outerHeight-100)
    $(".nav-tabs li").click(function() {
        $(".nav-tabs li").removeClass("active")
        $(this).addClass("active")
        var href_val = $(this).find("a").attr("href").split("#")[1]
        var container = href_val + "-container"
        $(".tab-container").hide();
        $("." + container).show();
    })

    $("#submitbt").click(function(){
        var post_data = {
            // "title": $("#inputTitle").val(), 
            "content": $("#inputContent").val()
        }
        if (!post_data.content){document.getElementById("inputContent").placeholder = "ä¸è¾“å…¥å†…å®¹æ˜¯æ— æ³•åˆ†æçš„å“¦ï¼0_0";}
        else{
            $.post("http://simzhou.f3322.net:7007/testPost", { "title": $("#inputTitle").val(), "content": $("#inputContent").val() },
                function(data, status) {

                    if(post_data.content){
                        var analyse_result_data = data.meta;
                        var draw_result_data = data.result;
                        
                        $("#positive_content").html(analyse_result_data.positive.toLocaleString().replace(/,/g,"ï¼Œ"))
                        $("#neutral_content").html(analyse_result_data.neutral.toLocaleString().replace(/,/g,"ï¼Œ"))
                        $("#negative_content").html(analyse_result_data.negative.toLocaleString().replace(/,/g,"ï¼Œ"))
                        $("#analyse-result-container").show()
                        
                        sd_1.draw("main_sd_1",draw_result_data)//ç»˜åˆ¶æ•£ç‚¹å›¾
                        tree.draw("main_tree",draw_result_data)//ç»˜åˆ¶æ ‘å›¾
                        leida.draw("main_leida",draw_result_data)//ç»˜åˆ¶é›·è¾¾å›¾
                        sd_2.draw("main_sd_2",draw_result_data)
                    }
                    
                    // alert("æ•°æ®ï¼š" + data + "\nçŠ¶æ€ï¼š" + status);
                },"json").error(function(){
    				    console.error("Empty Input Error")
    			    });
            };
    });

    $("#feelinglucky").click(function(){
        // var nothing = None;
        $.get("http://simzhou.f3322.net:7007/feelinglucky", function(data, status) {
                //å¦‚æœè¾“å…¥æ–‡æœ¬æ¡†é‡Œæœ‰ä¸œè¥¿ï¼Œå¾—å…ˆæŠŠå®ƒæ¸…ç©º
                if($("#inputContent").val()){
                    document.getElementById("inputContent").value="";
                }
                // æŠŠæ–‡æœ¬å¡«è¿›æ–‡æœ¬æ¡†
                var text_result_data = data.text;
                document.getElementById("inputContent").placeholder=text_result_data.toLocaleString();
                // ç„¶åæ˜¾ç¤ºæ–‡æœ¬æå–å†…å®¹
                var analyse_result_data = data.meta;
                var draw_result_data = data.result;

                $("#positive_content").html(analyse_result_data.positive.toLocaleString().replace(/,/g,"ï¼Œ"))
                $("#neutral_content").html(analyse_result_data.neutral.toLocaleString().replace(/,/g,"ï¼Œ"))
                $("#negative_content").html(analyse_result_data.negative.toLocaleString().replace(/,/g,"ï¼Œ"))
                $("#analyse-result-container").show()
                // ç„¶åç»˜åˆ¶æ•£ç‚¹å›¾æ ‘å›¾ç­‰
                sd_1.draw("main_sd_1",draw_result_data)//ç»˜åˆ¶æ•£ç‚¹å›¾
                tree.draw("main_tree",draw_result_data)//ç»˜åˆ¶æ ‘å›¾
                leida.draw("main_leida",draw_result_data)//ç»˜åˆ¶é›·è¾¾å›¾
                sd_2.draw("main_sd_2",draw_result_data)
            // textbox.innerHTML = "aaaaaaa";
        }, "json").error(function(){
            console.error("network error")
        });
    }); 
})

</script>

</html>